<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anti-Refugee Violence in Germany • arvig</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Anti-Refugee Violence in Germany">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">arvig</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">17.12.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/arvig.html">Overview</a>
</li>
<li>
  <a href="../articles/dataset_paper.html">Replication</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/davben/arvig">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Anti-Refugee Violence in Germany</h1>
                        <h4 class="author">David Benček</h4>
            
            <h4 class="date">2018-05-24</h4>
      
      
      <div class="hidden name"><code>arvig.Rmd</code></div>

    </div>

    
    
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(arvig)
<span class="kw">library</span>(stringr)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(sf)
<span class="kw">library</span>(ggthemes)</code></pre></div>
<p>The set of geocoded event data on anti-refugee violence and demonstrations in Germany is based on a public chronicle maintained by the civil society project <em>“Mut gegen rechte Gewalt”</em> (“Courage against right-wing violence”) and was created to fill a gap in readily available, spatially disaggregated data for social science research.</p>
<p>With rising numbers of refugees and asylum seekers arriving in Europe, particularly in Germany and Sweden, instances of right-wing violence have been occuring more frequently. <code>arvig</code> by now covers a period of four years and includes 6918 unique events that have been categorised as politically motivated and directed at refugees.</p>
<div id="dataset-description" class="section level2">
<h2 class="hasAnchor">
<a href="#dataset-description" class="anchor"></a>Dataset description</h2>
<p>The unit of observation in <code>arvig</code> is an individual event and the dataset includes several pieces of information to characterise them: Time and place of each event are indicated by the date, location (city, town or even urban district), federal state as well as the 12-digit community-ID used by German official statistics, facilitating merging with other data sources.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> Furthermore, <code>arvig</code> also contains geo-coordinates for all events. These are usually precise at the level of municipalities; in large cities such as Berlin or Hamburg they can even be more specific if the information about urban districts is included in the original source.<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> However, since this level of precision is not upheld systematically, interpreting spatial variance within municipalities is not recommended.</p>
<p>All events are assigned to one or more of the following five categories (which are included both in the original German as well as in English):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">examples &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"Swastika graffiti on walls of refugee accomodation."</span>, <span class="st">"Demonstrations against the intake or accomodation of refugees in Germany."</span>, <span class="st">"Assault of a person whose status as a refugee has been confirmed."</span>, <span class="st">"Arson attack on an official shelter or private accomodation of refugees."</span>, <span class="st">"Other types of racist actions directed at refugees (only concerns few events from 2014)."</span>, <span class="st">"Events of any category for which an anti-refugee motive has not yet been established."</span>)

arvig <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">str_detect</span>(category_de, <span class="st">"&amp;"</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># exclude multi-category combinations</span>
<span class="st">  </span><span class="kw">distinct</span>(category_de, category_en) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="st">`</span><span class="dt">Example/Description</span><span class="st">`</span> =<span class="st"> </span>examples) <span class="op">%&gt;%</span>
<span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">category_de</th>
<th align="left">category_en</th>
<th align="left">Example/Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Sonstige Angriffe</td>
<td align="left">miscellaneous attack</td>
<td align="left">Swastika graffiti on walls of refugee accomodation.</td>
</tr>
<tr class="even">
<td align="left">Kundgebung/Demo</td>
<td align="left">demonstration</td>
<td align="left">Demonstrations against the intake or accomodation of refugees in Germany.</td>
</tr>
<tr class="odd">
<td align="left">Tätlicher Übergriff/Körperverletzung</td>
<td align="left">assault</td>
<td align="left">Assault of a person whose status as a refugee has been confirmed.</td>
</tr>
<tr class="even">
<td align="left">Brandanschlag</td>
<td align="left">arson</td>
<td align="left">Arson attack on an official shelter or private accomodation of refugees.</td>
</tr>
<tr class="odd">
<td align="left">sonstige</td>
<td align="left">other</td>
<td align="left">Other types of racist actions directed at refugees (only concerns few events from 2014).</td>
</tr>
<tr class="even">
<td align="left">Verdachtsfall</td>
<td align="left">suspicion</td>
<td align="left">Events of any category for which an anti-refugee motive has not yet been established.</td>
</tr>
</tbody>
</table>
<p>With regard to demonstrations it is important to note that due to their widespread occurrence in 2015 <em>Mut gegen rechte Gewalt</em> restricted their documentation to demonstrations during which laws may have been broken, starting January 2016.</p>
<p>A small number of events is assigned to more than one of these categories. For example, there have been cases where not only refugee accommodations were attacked with rocks or xenophobic graffiti but also individual refugees were assaulted. In order to have a unique assignment to one of the five base categories, <code>arvig</code> provides the function <code><a href="../reference/split_events.html">split_events()</a></code> that splits these multi-category events into multiple rows, one for each category. In the instance of an observation that was assigned to <em>arson &amp; miscellaneous attack</em>, the event is duplicated and there is one observation for <em>arson</em> and one for <em>miscellaneous attack</em>.</p>
</div>
<div id="patterns-of-anti-refugee-events" class="section level2">
<h2 class="hasAnchor">
<a href="#patterns-of-anti-refugee-events" class="anchor"></a>Patterns of anti-refugee events</h2>
<p>Violence and demonstrations against refugees have soared in Germany especially during the years 2015/16. A sharp drop in the total number of events in 2017 is primarily due to significantly fewer <em>miscellaneous attacks</em>. However, we can only cautiously assess the past year for now because there is a considerable time lag with which events are being reported and included in the dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">arvig <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/split_events.html">split_events</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">count</span>(<span class="dt">year =</span> <span class="kw">year</span>(date), category_en) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="kw">factor</span>(year), n, <span class="dt">fill =</span> category_en)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_colorblind</span>(<span class="dt">name =</span> <span class="ot">NULL</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="fl">0.05</span>, <span class="fl">0.97</span>),
        <span class="dt">legend.justification =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),
        <span class="dt">legend.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="kw">alpha</span>(<span class="st">"white"</span>, <span class="fl">0.4</span>),
                                         <span class="dt">colour =</span> <span class="kw">alpha</span>(<span class="st">"black"</span>, <span class="fl">0.2</span>))) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Anti-refugee events in Germany"</span>,
       <span class="dt">subtitle =</span> <span class="st">"number of occurrences by year and category"</span>,
       <span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">"count"</span>)</code></pre></div>
<p><img src="arvig_files/figure-html/event-counts-plot-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">arvig <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/split_events.html">split_events</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">facet_group =</span> category_en <span class="op">==</span><span class="st"> "miscellaneous attack"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(category_en) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cumulative =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(date, cumulative, <span class="dt">colour =</span> category_en)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">size =</span> <span class="fl">0.7</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_colorblind</span>(<span class="dt">name =</span> <span class="ot">NULL</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_trans</span>(<span class="dt">y =</span> <span class="st">"log10"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">annotation_logticks</span>(<span class="dt">scaled =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Development of anti-refugee events 2014–2017"</span>,
       <span class="dt">subtitle =</span> <span class="st">"log number by category"</span>,
       <span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">"cumulative count"</span>)</code></pre></div>
<p><img src="arvig_files/figure-html/event-counts-plot-2.png" width="672"></p>
</div>
<div id="geography" class="section level2">
<h2 class="hasAnchor">
<a href="#geography" class="anchor"></a>Geography</h2>
<p>Putting to use the geographic information we can have a look at the spatial distribution of events throghout Germany. In order to visualize it, we first need a suitable shapefile. This one is provided by <a href="http://www.bkg.bund.de">GeoBasis-DE / BKG (2018)</a> and includes layers for several administrative levels from country down to municipality.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># german_districts &lt;- st_read("../raw_data/vg250-ew_3112.utm32s.shape.ebenen/vg250-ew_ebenen/VG250_KRS.shp") %&gt;%</span>
<span class="co">#   filter(EWZ &gt; 0) %&gt;%</span>
<span class="co">#   mutate(RS = as.character(RS)) </span>
<span class="co"># save(german_districts, file = "./inst/extdata/german_districts.rda", compress = "xz")</span>
<span class="co"># </span>
<span class="co"># german_states &lt;- st_read("../raw_data/vg250-ew_3112.utm32s.shape.ebenen/vg250-ew_ebenen/VG250_LAN.shp") %&gt;%</span>
<span class="co">#   filter(EWZ &gt; 0) %&gt;%</span>
<span class="co">#   mutate(RS = as.character(RS)) </span>
<span class="co"># save(german_states, file = "./inst/extdata/german_states.rda", compress = "xz")</span>

<span class="kw">load</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"german_districts.rda"</span>, <span class="dt">package =</span> <span class="st">"arvig"</span>))
<span class="kw">load</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"german_states.rda"</span>, <span class="dt">package =</span> <span class="st">"arvig"</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># limit analysis to four event categories</span>
keep_categories &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"arson"</span>, <span class="st">"assault"</span>, <span class="st">"demonstration"</span>, <span class="st">"miscellaneous attack"</span>)

<span class="co"># total events by year per 100,000 inhabitants</span>
event_map_by_year &lt;-<span class="st"> </span>german_districts <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">right_join</span>(<span class="kw">expand</span>(., RS, <span class="dt">year =</span> <span class="dv">2014</span><span class="op">:</span><span class="dv">2017</span>), <span class="st">"RS"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">left_join</span>(arvig <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw"><a href="../reference/split_events.html">split_events</a></span>() <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">filter</span>(category_en <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"arson"</span>, <span class="st">"assault"</span>, <span class="st">"demonstration"</span>, <span class="st">"miscellaneous attack"</span>)) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">mutate</span>(<span class="dt">RS =</span> <span class="kw">str_sub</span>(community_id, <span class="dv">1</span>, <span class="dv">5</span>)) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">count</span>(RS, <span class="dt">year =</span> <span class="kw">year</span>(date)),
            <span class="kw">c</span>(<span class="st">"RS"</span>, <span class="st">"year"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_sf</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> n<span class="op">/</span>EWZ<span class="op">*</span><span class="dv">100000</span>), <span class="dt">colour =</span> <span class="st">"#FAFBFB"</span>, <span class="dt">size =</span> <span class="fl">0.001</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> <span class="kw">st_boundary</span>(german_states), <span class="dt">colour =</span> <span class="st">"#595959"</span>, <span class="dt">size =</span> <span class="fl">0.1</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(<span class="op">~</span>year) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">name =</span> <span class="ot">NULL</span>, <span class="dt">direction =</span> <span class="op">-</span><span class="dv">1</span>, <span class="dt">option =</span> <span class="st">"A"</span>, <span class="dt">na.value =</span> <span class="st">"#A0A1A2"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_map</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">"transparent"</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.05</span>),
        <span class="dt">legend.justification =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),
        <span class="dt">legend.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">"transparent"</span>),
        <span class="dt">legend.direction =</span> <span class="st">"horizontal"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">strip.background =</span> <span class="kw">element_blank</span>(),
        <span class="dt">strip.text=</span><span class="kw">element_text</span>(<span class="dt">hjust=</span><span class="dv">0</span>, <span class="dt">face=</span><span class="st">"bold"</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Anti-refugee events in Germany 2014–2017"</span>,
       <span class="dt">subtitle =</span> <span class="st">"yearly number of events by district per 100,000 inhabitants"</span>)

<span class="co"># timeline of event counts</span>
timeline &lt;-<span class="st"> </span>arvig <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/split_events.html">split_events</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(category_en <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"arson"</span>, <span class="st">"assault"</span>, <span class="st">"demonstration"</span>, <span class="st">"miscellaneous attack"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">time =</span> lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/round_date.html">floor_date</a></span>(date, <span class="st">"days"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">count</span>(time) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(time, n)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">"gam"</span>, <span class="dt">formula =</span> y <span class="op">~</span><span class="st"> </span><span class="kw">s</span>(x, <span class="dt">bs =</span> <span class="st">"cs"</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="kw">dmy</span>(<span class="st">"01-01-2014"</span>), <span class="kw">dmy</span>(<span class="st">"01-01-2018"</span>)), <span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.margin =</span> <span class="kw">margin</span>(<span class="dt">t =</span> <span class="dv">5</span>, <span class="dt">r =</span> <span class="dv">10</span>, <span class="dt">b =</span> <span class="dv">5</span>, <span class="dt">l =</span> <span class="dv">5</span>, <span class="dt">unit =</span> <span class="st">"pt"</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">"daily event count"</span>)


<span class="co"># spatio-temporal plot</span>
time_plot &lt;-<span class="st"> </span>cowplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/cowplot/topics/plot_grid">plot_grid</a></span>(event_map_by_year, timeline, <span class="dt">align =</span> <span class="st">"v"</span>, <span class="dt">axis =</span> <span class="st">"l"</span>, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">rel_heights =</span> <span class="kw">c</span>(<span class="fl">0.75</span>, <span class="fl">0.25</span>))
<span class="kw">plot</span>(time_plot)</code></pre></div>
<p><img src="arvig_files/figure-html/geographic-overview-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># </span>
<span class="co"># # events by category and year per 100,000 inhabitants</span>
<span class="co"># p &lt;- germany %&gt;%</span>
<span class="co">#   right_join(expand(., RS, year = 2014:2017, category_en = keep_categories), "RS") %&gt;%</span>
<span class="co">#   left_join(arvig %&gt;%</span>
<span class="co">#               split_events() %&gt;%</span>
<span class="co">#               filter(category_en %in% keep_categories) %&gt;%</span>
<span class="co">#               mutate(RS = str_sub(community_id, 1, 5)) %&gt;%</span>
<span class="co">#               count(year = year(date), RS, category_en),</span>
<span class="co">#             c("RS", "year", "category_en")) %&gt;%</span>
<span class="co">#   ggplot() +</span>
<span class="co">#   #geom_sf(data = germany_municip) +</span>
<span class="co">#   geom_sf(aes(fill = n/EWZ*10000)) +</span>
<span class="co">#   coord_sf(crs = "+proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs") +</span>
<span class="co">#   facet_grid(category_en~year) +</span>
<span class="co">#   scale_fill_viridis_c(direction = -1, option = "A") +</span>
<span class="co">#   theme_map() +</span>
<span class="co">#   theme(panel.grid.major = element_line(colour = "transparent")) +</span>
<span class="co">#   theme(legend.position = "bottom")</span></code></pre></div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>More information on the structure of the community ID (<em>Regionalschlüssel</em> in German) can be found <a href="https://de.wikipedia.org/wiki/Amtlicher_Gemeindeschl%C3%BCssel#Regionalschl%C3%BCssel">on Wikipedia</a> and in a <a href="https://www.destatis.de/DE/ZahlenFakten/LaenderRegionen/Regionales/Gemeindeverzeichnis/Gemeindeverzeichnis.html">register by the German Federal Statistical Office</a>.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>e.g. distinguishing between Hamburg Farmsen, Bergedorf and Billstedt.<a href="#fnref2">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#dataset-description">Dataset description</a></li>
      <li><a href="#patterns-of-anti-refugee-events">Patterns of anti-refugee events</a></li>
      <li><a href="#geography">Geography</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by David Benček, Julia Strasheim.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
